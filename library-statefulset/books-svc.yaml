---
apiVersion : apps/v1
kind : StatefulSet
metadata : 
  name : books-svc
  labels : 
    app : books-svc
spec :
  minReadySeconds : 5
  replicas : 2
  selector : 
    matchLabels : 
        app : books-svc
  serviceName : books-svc
  template : 
    metadata : 
      labels : 
        app : books-svc
    spec :
      containers : 
        - image : shaikkhajaibrahim/libbookssvc:1.0
          ports :
            - containerPort : 8000
              protocol : TCP 
          envFrom : 
            - secretRef : 
                name :  books-secrets
---
apiVersion : v1
kind: Service
metadata: 
  name : books-svc
spec:
  type: ClusterIP
  clusterIP: None
  ports : 
    - targetPort : 8000 
      port : 7000
  selector : 
    app : books-svc 