apiVersion : apps/v1
kind : StatefulSet
metadata : 
  labels : 
    app : books-st
  name : books-st
spec :
  replicas : 2
  selector : 
     matchLabels:
      app : books-st 
  serviceName : books-svc
  template : 
    metadata : 
      labels :
        app : books-st 
    spec : 
      containers :
        - image : deepakvakkala123/libbookssvc:1.0 
          envFrom : 
            - secretRef : 
                name : books-secrets
          ports : 
            - protocol : TCP
              containerPort : 8000

---
apiVersion : v1 
kind : Service
metadata : 
  name : books-svc
  labels : 
    app : books-st
spec :
  type : ClusterIP
  clusterIP : None
  ports : 
    - port : 5000
      protocol : TCP
      targetPort : 8000