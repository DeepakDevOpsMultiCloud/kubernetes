apiVersion : apps/v1
kind : StatefulSet
metadata : 
  labels : 
    app : users-st
  name : users-st
spec :
  replicas : 2
  selector : 
    matchLabels:
      app : users-st 
  serviceName : users-svc
  template : 
    metadata : 
      labels :
        app : users-st 
    spec : 
      containers :
        - image : deepakvakkala123/libuserssvc:1.0 
          envFrom : 
            - secretRef : 
                name : users-secrets
          ports : 
            - protocol : TCP
              containerPort : 8000

---
apiVersion : v1 
kind : Service
metadata : 
  name : users-svc
  labels : 
    app : users-st
spec :
  type : ClusterIP
  clusterIP : None
  ports : 
    - port : 5000
      protocol : TCP
      targetPort : 8000